---
title: "Chat Completions (Anthropic)"
description: "Build chat-based AI applications using Anthropic-compatible API"
icon: "comments"
---

## Overview

Use the Anthropic Messages API to interact with Claude and other language models. Compile Labs provides Anthropic-compatible endpoints for seamless integration.

## Quick Start

```bash
curl https://api.compilelabs.ai/v1/messages \
  -H "x-api-key: YOUR_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "anthropic/claude-sonnet-4",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "Hello! What can you do?"}
    ]
  }'
```

## Using the Anthropic Python SDK

```python
import anthropic

client = anthropic.Anthropic(
    api_key="YOUR_API_KEY",
    base_url="https://api.compilelabs.ai/v1"
)

response = client.messages.create(
    model="anthropic/claude-sonnet-4",
    max_tokens=1024,
    messages=[
        {"role": "user", "content": "Hello!"}
    ]
)

print(response.content[0].text)
```

## Core Concepts

### Messages

Messages are organized by role:
- `user`: User inputs and queries
- `assistant`: Previous assistant responses

### Parameters

- **model**: The model to use (e.g., `anthropic/claude-sonnet-4`)
- **messages**: Array of message objects
- **max_tokens**: Maximum response length (required)
- **temperature**: Randomness (0-1, default 1)
- **stream**: Return streaming response

## Streaming

Stream responses for better user experience:

```bash
curl https://api.compilelabs.ai/v1/messages \
  -H "x-api-key: YOUR_API_KEY" \
  -H "anthropic-version: 2023-06-01" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "anthropic/claude-sonnet-4",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "Tell me a long story"}
    ],
    "stream": true
  }'
```

## Multi-Turn Conversations

```python
messages = [
    {"role": "user", "content": "What's 2+2?"},
    {"role": "assistant", "content": "2+2 equals 4."},
    {"role": "user", "content": "What about 3+3?"}
]

response = client.messages.create(
    model="anthropic/claude-sonnet-4",
    max_tokens=1024,
    messages=messages
)
```

## Listing Available Models

Get a list of all available models:

```bash
curl "https://api.compilelabs.ai/v1/models?type=text_to_text" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

## Next Steps

<CardGroup cols={2}>

<Card title="OpenAI Chat Completions" icon="comments" href="/modalities/chat-completions-openai">
Use OpenAI-compatible API
</Card>

<Card title="Image Generation" icon="image" href="/modalities/image-generation">
Generate images with AI models
</Card>

<Card title="Examples" icon="code" href="/examples">
See more complete examples
</Card>

<Card title="API Reference" icon="book" href="/api-reference">
Full API documentation
</Card>

</CardGroup>

